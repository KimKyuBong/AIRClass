# AIRClass ê°œë°œ ì§„í–‰í˜„í™©

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2026-01-25  
**ì§„í–‰ë¥ :** 6/18 ì‘ì—… ì™„ë£Œ (33%)

## ğŸ“Š Phaseë³„ ì§„í–‰ ìƒí™©

### âœ… Phase 1: ì•„í‚¤í…ì²˜ ê¸°ì´ˆ (1ì£¼ì¼) - 100% ì™„ë£Œ

#### Phase 1-1: Docker Compose ì¬êµ¬ì„± âœ“
- Redis ë©”ì‹œì§€ ë¸Œë¡œì»¤ ì¶”ê°€ (í¬íŠ¸ 6379)
- Main ë…¸ë“œ: RTMP ìˆ˜ì‹  + ë…¹í™”
- Sub-1, Sub-2: ìŠ¤íŠ¸ë¦¼ ì¤‘ê³„ (í•„ìˆ˜ ìŒ)
- ë³¼ë¥¨: recordings/, screenshots/, redis-data/

#### Phase 1-2: Main ë…¸ë“œ ì—­í•  ì¬ì •ì˜ âœ“
- `recording.py` (300ì¤„)
  - ffmpeg RTMP â†’ MP4 + HLS ë…¹í™”
  - 10ì´ˆ ê°„ê²© ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
  - ë©”íƒ€ë°ì´í„° JSON ì €ì¥
  - ìë™ ì €ì¥ì†Œ ì •ë¦¬ (7ì¼ ì •ì±…)

#### Phase 1-3: Sub ë…¸ë“œ ì—­í•  ì¬ì •ì˜ âœ“
- `stream_relay.py` (250ì¤„)
  - Mainì˜ RTMP ìŠ¤íŠ¸ë¦¼ ë¡œì»¬ ì¤‘ê³„
  - ffmpegë¥¼ í†µí•œ ì‹¤ì‹œê°„ ë³µì œ
  - WHEP (WebRTC-HTTP Egress Protocol) ì§€ì›
- `mediamtx-sub.yml`
  - Subìš© MediaMTX ì„¤ì •
  - relay ê²½ë¡œë¡œ Main ìˆ˜ì‹ 
  - WebRTC, HLS, DASH ë°°í¬

#### Phase 1-4: Redis Pub/Sub ë©”ì‹œì§• âœ“
- `messaging.py` (350ì¤„)
  - Redis ë¹„ë™ê¸° í´ë¼ì´ì–¸íŠ¸
  - Pub/Sub ê¸°ë°˜ ì±„íŒ… ë™ê¸°í™”
  - í•™ìƒ ì…ì¥/í‡´ì¥ ì´ë²¤íŠ¸
  - í€´ì¦ˆ ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŠ¸
  - ì°¸ì—¬ë„ ì¶”ì  ì´ë²¤íŠ¸
  - ì½œë°± ì‹œìŠ¤í…œ (event-driven)

### âœ… Phase 2: í•™ìŠµ ë¶„ì„ ê¸°ì´ˆ (1.5ì£¼ì¼) - 50% ì™„ë£Œ

#### Phase 2-1: MongoDB ìŠ¤í‚¤ë§ˆ ì •ì˜ âœ“
- `models.py` (400ì¤„)
  - Session, Quiz, QuizResponse
  - StudentEngagement, ChatMessage
  - ScreenshotAnalysis, SessionSummary
  - StudentLearningPath
  - Enum: UserType, ActivityType, SentimentType, QuestionCategory
  - Pydantic íƒ€ì… ê²€ì¦

#### Phase 2-2: í€´ì¦ˆ ë°°í¬/ìˆ˜ì§‘ API âœ“
- `database.py` (350ì¤„)
  - Motor ê¸°ë°˜ ë¹„ë™ê¸° MongoDB ê´€ë¦¬ì
  - Session CRUD
  - Quiz management
  - Quiz response collection
  - Chat analytics persistence
  - Student engagement tracking
  - Learning analytics (summary, path)
  - ìë™ ì¸ë±ìŠ¤ ìƒì„±

- `routers/quiz.py` (250ì¤„)
  - POST /api/quiz/create (êµì‚¬)
  - POST /api/quiz/publish (ì „ì²´ í•™ìƒ)
  - POST /api/quiz/response (í•™ìƒ)
  - GET /api/quiz/responses/{quiz_id}
  - GET /api/quiz/statistics/{quiz_id}
  - WS /api/quiz/ws/statistics/{quiz_id} (ì‹¤ì‹œê°„)
  - ìë™ ì±„ì , í†µê³„ ê³„ì‚°

#### Phase 2-3: ì°¸ì—¬ë„ ì¶”ì  â³
- í•„ìš”í•œ ê²ƒ:
  - `engagement.py` - ì°¸ì—¬ë„ ê³„ì‚° ì—”ì§„
  - `routers/engagement.py` - API ì—”ë“œí¬ì¸íŠ¸
  - í™œë™ ê¸°ë¡ (ì±„íŒ…, ì‘ë‹µ, ì‹œê°„)
  - ì ìˆ˜ ê³„ì‚° (0-100)

#### Phase 2-4: êµì‚¬ ëŒ€ì‹œë³´ë“œ - ì‹¤ì‹œê°„ â³
- í•„ìš”í•œ ê²ƒ:
  - `routers/dashboard.py` - ëŒ€ì‹œë³´ë“œ API
  - ì‹¤ì‹œê°„ ì°¸ì—¬ë„ ì‹œê°í™”
  - í˜¼ë™ë„ ê°ì§€ ì•Œë¦¼

### â³ Phase 3: ë…¹í™” + VOD (1.5ì£¼ì¼) - 0% ì§„í–‰

- Phase 3-1: Main ë…¸ë“œ ìë™ ë…¹í™”
- Phase 3-2: Sub ë…¸ë“œ VOD í”Œë ˆì´ì–´
- Phase 3-3: ì €ì¥ì†Œ ê´€ë¦¬

### â³ Phase 4: AI í•™ìŠµ ë¶„ì„ (2ì£¼ì¼) - 0% ì§„í–‰

- Phase 4-1: ìŠ¤í¬ë¦°ìƒ· ë¶„ì„
- Phase 4-2: ì±„íŒ… ë¶„ì„
- Phase 4-3: í†µí•© ë¶„ì„ ë¦¬í¬íŠ¸
- Phase 4-4: ê°œë³„ í•™ìŠµ ê²½ë¡œ

### â³ Phase 5: í’ˆì§ˆ + ë°°í¬ (1ì£¼ì¼) - 0% ì§„í–‰

- Phase 5-1: íƒ€ì… ì•ˆì •ì„±
- Phase 5-2: í…ŒìŠ¤íŠ¸
- Phase 5-3: ë°°í¬ ìë™í™”

## ğŸ“ ìƒì„±ëœ íŒŒì¼ êµ¬ì¡°

```
backend/
â”œâ”€â”€ recording.py           # Main ë…¹í™” ê´€ë¦¬ì (300ì¤„)
â”œâ”€â”€ stream_relay.py        # Sub ìŠ¤íŠ¸ë¦¼ ì¤‘ê³„ (250ì¤„)
â”œâ”€â”€ messaging.py           # Redis Pub/Sub ì‹œìŠ¤í…œ (350ì¤„)
â”œâ”€â”€ models.py              # Pydantic ë°ì´í„° ëª¨ë¸ (400ì¤„)
â”œâ”€â”€ database.py            # MongoDB ë¹„ë™ê¸° ê´€ë¦¬ì (350ì¤„)
â”œâ”€â”€ mediamtx-sub.yml       # Sub ë…¸ë“œ ìŠ¤íŠ¸ë¦¬ë° ì„¤ì •
â”œâ”€â”€ docker-entrypoint.sh   # ë‹¤ì¤‘ ë…¸ë“œ ì§„ì…ì  (ì—…ë°ì´íŠ¸)
â””â”€â”€ routers/
    â””â”€â”€ quiz.py            # í€´ì¦ˆ API ì—”ë“œí¬ì¸íŠ¸ (250ì¤„)

root/
â”œâ”€â”€ docker-compose.yml     # Main + Sub + Redis (ì—…ë°ì´íŠ¸)
â””â”€â”€ PROGRESS.md            # ì´ íŒŒì¼

ì´ ì‹ ê·œ ì½”ë“œ: ~2,500ì¤„
```

## ğŸ¯ ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Main Node (í¬íŠ¸ 8000-8189)   â”‚
â”‚   â€¢ RTMP ìˆ˜ì‹  (1935)            â”‚
â”‚   â€¢ ìë™ ë…¹í™” (ffmpeg)          â”‚
â”‚   â€¢ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ (10ì´ˆ)       â”‚
â”‚   â€¢ ë©”íƒ€ë°ì´í„° ì €ì¥ (JSON)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
  â”‚  Sub-1  â”‚      â”‚  Sub-2    â”‚
  â”‚(8001)   â”‚      â”‚(8002)     â”‚
  â”‚ WebRTC  â”‚      â”‚ WebRTC    â”‚
  â”‚ (í•™ìƒ)   â”‚      â”‚ (í•™ìƒ)     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Redis (6379)                â”‚
  â”‚  â€¢ Pub/Sub ì±„íŒ…              â”‚
  â”‚  â€¢ í•™ìƒ ëª©ë¡ ë™ê¸°í™”          â”‚
  â”‚  â€¢ í€´ì¦ˆ ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŠ¸ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  MongoDB                      â”‚
  â”‚  â€¢ Sessions                   â”‚
  â”‚  â€¢ Quizzes & Responses        â”‚
  â”‚  â€¢ Chat Analytics             â”‚
  â”‚  â€¢ Engagement Metrics         â”‚
  â”‚  â€¢ Screenshot Analysis        â”‚
  â”‚  â€¢ Learning Analytics         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ë°ì´í„° í”Œë¡œìš°

```
1. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
   êµì‚¬ (Android/PC) â†’ Main (RTMP) â†’ Sub (WebRTC) â†’ í•™ìƒë“¤

2. ë…¹í™”
   Main (ffmpeg) â†’ MP4 + HLS â†’ ì €ì¥ì†Œ

3. ì±„íŒ…
   í•™ìƒ ë©”ì‹œì§€ â†’ Redis Pub/Sub â†’ ëª¨ë“  ë…¸ë“œ ë™ê¸°í™”

4. í€´ì¦ˆ
   êµì‚¬ ìƒì„± â†’ Main (DB) â†’ Redis (ì´ë²¤íŠ¸) â†’ Sub (WebSocket) â†’ í•™ìƒ
   í•™ìƒ ì‘ë‹µ â†’ Sub (API) â†’ Main (DB) â†’ Redis (í†µê³„) â†’ êµì‚¬ ëŒ€ì‹œë³´ë“œ

5. í•™ìŠµ ë¶„ì„
   ìŠ¤í¬ë¦°ìƒ· â†’ AI ë¶„ì„ â†’ MongoDB ì €ì¥
   ì±„íŒ… â†’ NLP ë¶„ì„ â†’ MongoDB ì €ì¥
   í€´ì¦ˆ ì‘ë‹µ â†’ í†µê³„ ê³„ì‚° â†’ MongoDB ì €ì¥
```

## ğŸš€ ë‹¤ìŒ ìš°ì„ ìˆœìœ„

1. **Phase 2-3: ì°¸ì—¬ë„ ì¶”ì ** (ë†’ìŒ)
   - engagement.py êµ¬í˜„
   - í™œë™ ê¸°ë¡ ë° ì ìˆ˜ ê³„ì‚°
   - êµì‚¬ê°€ í•™ìƒ ìƒíƒœ ì‹¤ì‹œê°„ íŒŒì•…

2. **Phase 2-4: êµì‚¬ ëŒ€ì‹œë³´ë“œ** (ë†’ìŒ)
   - ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ API
   - í˜¼ë™ë„ ê°ì§€ ì•Œë¦¼
   - Phase 2 100% ë‹¬ì„±

3. **Phase 3: ë…¹í™” + VOD** (ì¤‘ê°„)
   - í•™ìƒë“¤ì´ ë†“ì¹œ ë¶€ë¶„ ë³µìŠµ ê°€ëŠ¥

4. **Phase 4: AI í•™ìŠµ ë¶„ì„** (ì¤‘ê°„)
   - ê°€ì¥ ë†’ì€ ê°€ì¹˜ ì œê³µ
   - GPT-4V ìŠ¤í¬ë¦°ìƒ· ë¶„ì„
   - ìë™ ë¦¬í¬íŠ¸ ìƒì„±

5. **Phase 5: í’ˆì§ˆ + ë°°í¬** (ë‚®ìŒ)
   - í”„ë¡œë•ì…˜ ì¤€ë¹„

## ğŸ“ˆ ì„±ê³¼ ì§€í‘œ

- **ì½”ë“œ í’ˆì§ˆ**: Pydantic íƒ€ì… ê²€ì¦, ë¹„ë™ê¸° ì²˜ë¦¬
- **í™•ì¥ì„±**: Sub ë…¸ë“œ ë¬´ì œí•œ ì¶”ê°€ ê°€ëŠ¥
- **ì•ˆì •ì„±**: Redis/MongoDB ì˜ì†ì„±, ì—ëŸ¬ í•¸ë“¤ë§
- **ì„±ëŠ¥**: ffmpeg ìµœì í™”, ì¸ë±ì‹±

## ğŸ’¡ ê¸°ìˆ  ê²°ì •

1. **Main-Sub í•„ìˆ˜ ìŒ**: í™•ì¥ì„± + ì—­í•  ë¶„ë‹´
2. **Redis Pub/Sub**: ì €ì§€ì—° ë©”ì‹œì§•
3. **MongoDB**: ìŠ¤í‚¤ë§ˆ ìœ ì—°ì„±, JSON ì¹œí™”
4. **Pydantic**: íƒ€ì… ì•ˆì •ì„±
5. **FFmpeg**: í”„ë¡œë•ì…˜ê¸‰ ë…¹í™”

## ğŸ“ ì£¼ìš” ì§„í–‰ íŒŒì¼

- ì»¤ë°‹ 3ê°œ
- ìƒˆ íŒŒì¼ 9ê°œ
- ìˆ˜ì • íŒŒì¼ 3ê°œ
- ì´ 2,500ì¤„ ì‹ ê·œ ì½”ë“œ
